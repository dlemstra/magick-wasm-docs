import{r as C,M as P,c as q,e as G,N as W,x as V,h as E,a as _,z as O,C as Y,o as v,d as X,y as K,u as Q,j as J,E as Z}from"./assets/index-CoZb0VGs.js";const ee=["data-type","data-label"],te=["contenteditable"],ae={class:"ssh-pre__original"},ne={__name:"simple-syntax-highlighter",props:{language:{type:String,default:""},label:{type:[String,Boolean],default:!1},tab:{type:[Boolean,String],default:"  "},dark:{type:Boolean,default:!1},copyButton:{type:Boolean,default:!1},editable:{type:Boolean,default:!1}},emits:["copied"],setup(m,{emit:T}){const o={quote:/("(?:\\"|[^"])*")|('(?:\\'|[^'])*')/,comment:/(\/\/.*?(?:\n|$)|\/\*.*?(?:\*\/|$))/,doctype:/(&lt;!DOCTYPE.*?&gt;)/,htmlTag:/&lt;(?:([a-z][\w:-]*)((?:[\w\- ]+=(?:"[^"]*"|'[^']*'))*|(?:[^&]|&(?:lt|amp|quot|apos|gt);)*?)(\s*\/?)|(\/?)([a-z][\w:-]*))&gt;/,htmlentity:/(&amp;(?:[a-z]+|#x?\d+);)/,punctuation:new RegExp("(!==?|(?:[[\\](){}.:,+\\-?=!])+|(?<!&(?:[a-z]+|#x?\\d+));|\\|\\||&lt;|&gt;|&amp;)"),number:/(-?(?:\.\d+|\d+(?:\.\d+)?))/,boolean:/\b(true|false)\b/},f={shell:{quote:o.quote,comment:/(#.*?)(?:\n|$)/,keyword:/\b(p?npm|yarn|i(?:nstall)?|run|audit|outdated|update|publish|whoami|cd|sudo|chmod|chown|ls|cat|vim?|scp|rm|mv|mkdir|ln|open|cwd|which|clear|curl|ping|systemctl|echo|export|open|bash|exit)\b/,param:/( --(?:save|save-dev))(?:\s|$)/},xml:{doctype:o.doctype,quote:o.quote,comment:/(&lt;!--.*?(?:--&gt;|$))/,htmlentity:o.htmlentity,tag:o.htmlTag},html:{doctype:o.doctype,quote:o.quote,comment:/(&lt;!--.*?(?:--&gt;|$))/,htmlentity:o.htmlentity,tag:o.htmlTag},"html-vue":{doctype:o.doctype,quote:o.quote,comment:/(&lt;!--.*?(?:--&gt;|$))/,htmlentity:o.htmlentity,tag:/&lt;(?:([a-z][\w:-]*)((?:[\w-]+\s*=(?:"[^"]*"|'[^']*'))*|(?:[^&]|&(?:lt|amp|quot|apos|gt);)*?)(\s*\/?)|(\/?)([a-z][\w:-]*))&gt;/},pug:{text:/((?:^|\n)[ \t]*|^)\|([ \t]*)([^\n]+(?=\s*(?:\n|$)))/,text2:/([ \t]*)([.#\w-]+(?:\([^)]*\))*)\.\n((?:\n+(?=\4[ \t]+)|(?=\4[ \t]+).+?(?:\n|$)*?)*)(?=\s*(?:\n|$))/,quote:o.quote,comment:/(^|\n)([ \t]*|^)(\/\/-[ \t]*(?:[^\n]*?(?:\n\10[ \t]+[^\n]*)+|[^\n]+(?=\n|$)))/,tag:/([a-z][\w:-]*|)([.#][a-z][.\w-]*|)\b(?:\((\s*(?:[#@:]?[a-z][\w-.:]+(?:=(?:"[^"]*"|'[^']*'))*\s*)*)\))?(\.?)([ \t]*)([^\n]+)?(?=\n|$)/,"inline-tag":/#\[([^[\]]+)\]/},css:{comment:/(\/\*.+?(?:\*\/|$))/,quote:/("(?:\\"|[^"])*")|('(?:\\'|[^'])*')/,pseudo:/(:(?:hover|active|focus|visited|not|before|after|(?:first|last|nth)-child))/,"selector keyword vendor":/(@-(?:moz|o|webkit|ms)-(?=keyframes\s))/,"selector keyword":/((?:@(?:import|media|font-face|keyframes)|screen|print|and)(?=[\s({])|keyframes|\s(?:ul|ol|li|table|div|pre|p|a|img|br|hr|h[1-6]|em|strong|span|html|body|iframe|video|audio|input|button|form|label|fieldset|small|abbr|i|dd|dt)\b)(?=.*\{})/,variable:/(--[a-z0-9-]+)/,selector:/((?:[.#-\w*+ >:,[\]="~\n]|&gt;)+)(?=\s*\{)/,"attribute keyword vendor":/(-(?:moz|o|webkit|ms)-(?=transform|transition|user-select|tap-highlight-color|animation|background-size|box-shadow))/,"attribute keyword":/\b(content|float|display|position|top|left|right|bottom|(?:(?:max|min)-)?width|(?:(?:max|min|line)-)?height|font(?:-(?:family|style|size|weight|variant|stretch))?|vertical-align|color|opacity|visibility|z-index|pointer-events|user-select|transform(?:-(?:origin|style|delay|duration|property|timing-function))?|transition(?:-(?:delay|duration))?|animation(?:-(?:name|delay|duration|direction|fill-mode))?|backface-visibility|backdrop-filter|background(?:-(?:color|position|image|repeat|size|attachment|origin|clip|blend-mode))?|(?:padding|margin|border)(?:-(?:top|left|right|bottom))?|border(?:-(?:radius|color|width|style|spacing))|white-space|text-(?:align|transform|decoration|shadow|indent)|overflow(?:-(?:x|y))?|(?:letter|word)-spacing|word-break|box-(?:sizing|shadow)|stroke(?:-(?:width|opacity|dasharray|dashoffset|linecap|linejoin))?|fill|speak|outline|user-select|cursor|flex(?:-(?:direction|flow|grow|shrink|basis|wrap))?|(?:justify|align)-(?:content|self|items))(?=\s*:)/,"value keyword vendor":/(-(?:moz|o|webkit|ms)-(?=linear-gradient))/,"value keyword":/\b(inherit|initial|normal|none|unset|auto|inline(?:-(?:block|flex))?|block|flex|absolute|relative|static|fixed|sticky|hidden|visible|top|left|right|bottom|center|middle|baseline|solid|dotted|dashed|line-through|(?:over|under)line|wavy|double|(?:pre-|no)?wrap|pre|break-word|(?:upper|lower)case|capitalize|italic|bold|attr\(.*?\)|linear|ease(?:-in)?(?:-out)?|all|infinite|cubic-bezier|(?:translate|rotate)(?:[X-Z]|3d)?|skew[XY]?|scale|(?:no-)?repeat|repeat(?:-x|-y)|contain|cover|url|(?:repeating-)?(?:linear|radial)-gradient|inset|pointer|(?:flex-)?(?:start|end)|space-(?:between|evenly|around)|stretch|revert|row(?:-reverse)?|column(?:-reverse)?)(?=\s*[,;}(]|\s+[\da-z!])/,"value keyword important":/( ?!important)/,number:o.number,color:/(transparent|#(?:[\da-f]{8}|[\da-f]{6}|[\da-f]{3})|rgba?\([\d., ]*\))/,htmlentity:o.htmlentity,punctuation:/([:,;{}@#()!]+)/,attribute:/([a-z-]+)(?=\s*:)/,unit:/(px|pt|cm|%|r?em|m?s|deg|vh|vw|vmin|vmax)(?=(?:\s*[;,{}})]|\s+[-\da-z#]))/,error:/([:,;{}@#()!]+|&lt;|&gt;|&amp;)/},json:{quote:/("(?:\\"|[^"])*")/,number:o.number,boolean:o.boolean,punctuation:/([[\](){}:,]+)/,error:/(&(:?lt|gt|amp);|(?!\s).)/},js:{quote:o.quote,comment:o.comment,number:/\b(\d+(?:\.\d+)?|null)\b/,boolean:o.boolean,this:/\b(this)(?=\W)/,keyword:/\b(new|getElementsBy(?:Tag|Class|)Name|getElementById|querySelector|querySelectorAll|arguments|if|else|do|return|case|default|(?:f|F)unction|typeof|instanceof|undefined|document(?:Element)?|window|console|while|for|forEach|switch|in|break|continue|delete|length|var|let|const|export|import|as|require|from|Class|constructor|Number|Boolean|String|Array|Object|RegExp|Integer|Date|Promise|Proxy|WeakMap|WeakSet|Symbol|SyncManager|File(?:Reader)?|DataTransfer|DocumentFragment|async|await|(?:clear|set)(?:Timeout|Interval)|parse(?:Int|Float)|Math(?=\.)|isNaN|atob|btoa|getComputedStyle)(?=\W)/,htmlentity:o.htmlentity,punctuation:/(!==?|[[\]!(){}:;,+\-%*/?=]+|\.+(?![a-z])|\|\||&lt;|&gt;|&amp;)/,variable:/(\.?[a-z_]\w*)/,"external-var":/(\$|jQuery|JSON)(?=\W|$)/},php:{quote:o.quote,comment:o.comment,special:/(&lt;\?(?:php)?|\?&gt;|__(?:DIR|FILE|LINE|CLASS|METHOD|FUNCTION|NAMESPACE|TRAIT)__)/,punctuation:o.punctuation,number:o.number,boolean:o.boolean,variable:/(\$\w+)/,keyword:/\b(define|echo|die|exit|print_r|var_dump|if|else|elseif|do|return|case|default|function|\$this|while|foreach|for|switch|in|break|continue|empty|isset|unset|parse_ini_file|session_(?:start|destroy|id)|header|json_(?:encode|decode)|error_log|(require|include)(:?_once)?|try|throw|new|Exception|catch|finally|preg_(?:match|replace)|list|strlen|substr|str_replace|array_(?:keys|values))(?=\W|$)/},sql:{quote:o.quote,comment:/((?:--|#)\s.*?(?:\n|$)|\/\*.*?\*\/)/,punctuation:o.punctuation,number:/\b(\d+(?:\.\d+)?|null)\b/,boolean:o.boolean,keyword:/\b(\*|DECLARE|BEGIN|END|RETURNS|FUNCTION|CREATE|DATABASE|TABLE|VIEW|COLUMN|INDEX|GRANT|REVOKE|ALL|PRIVILEGES|IDENTIFIED|FLUSH|ALTER|MODIFY|DROP|TRUNCATE|CONSTRAINT|ADD|CHECK|(?:(?:PRIMARY|FOREIGN|UNIQUE) )?KEY|REFERENCES|AUTO_INCREMENT|COMMENT|DEFAULT|UNSIGNED|CHARSET|COLLATE|CHARACTER|ENGINE|SQL_MODE|USE|IF|THEN|NULL|EXISTS|UNIQUE|SELECT|UPDATE|DELETE|(?:INSERT|REPLACE)(?: INTO)?|VALUES|SET|FROM|WHERE|(?:ORDER|GROUP) BY|LIMIT|(?:(?:LEFT|RIGHT|INNER|OUTER|CROSS) |)JOIN|AS|ON|COUNT|AVG|SUM|MIN|MAX|CASE|TO|WHEN|BETWEEN|AND|OR|NOT|IN|LIKE|IS|CONCAT|SUBSTRING|CURRENT_(?:DATE|TIMESTAMP)|USING|HAVING?)(?=\W|$)/,"var-type":/\b((?:var)?char|(?:tiny|small|medium|big)?int|decimal|float|double|real|bit|boolean|date(?:time)?|time(?:stamp)?|year|(?:tiny|medium|long)?(?:text|blob)|enum)\b/}},x={xml:/(\s*)([a-z\d\-:]+)(?:=("|')(.*?)\3)?/g,html:/(\s*)([a-z-]+)(?:=("|')(.*?)\3)?/gs,"html-vue":/(\s*)([@:#]?[a-z\d-]+)(?:(?:=("|')(.*?)\3)|)/gs,pug:/(\s*|,)([@:#]?[a-z\d-]+)(?:(?:=("|')(.*?)\3)|)/g},z={shell:{quote:2},xml:{quote:2,tag:5},html:{quote:2,tag:5},"html-vue":{quote:2,tag:5},pug:{text:3,text2:3,quote:2,comment:3,tag:6},json:{},php:{quote:2},sql:{quote:2},css:{quote:2},js:{quote:2}},p=m,D=T,N=C(Object.keys(f)),d=C(null),k=P(),w=t=>t.map(e=>{if(!e.children||typeof e.children=="string")return e.children||"";if(Array.isArray(e.children))return w(e.children);if(e.children.default)return w(e.children.default())}).join(""),b=t=>t.replace(/[<>]/g,e=>({"<":"&lt;",">":"&gt;"})[e]),L=t=>{if(t==="transparent")return{dark:!1,alpha:0};const e=s=>s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4);let l=0,c=0,a=0,n=1;const i=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/),r=t.match(/^#([\da-f]{3,8})$/i);if(i)l=parseInt(i[1])/255,c=parseInt(i[2])/255,a=parseInt(i[3])/255,i[4]&&(n=parseFloat(i[4]));else if(r){const s=r[1],u=s.length===3||s.length===4;l=parseInt(u?s[0]+s[0]:s.substring(0,2),16)/255,c=parseInt(u?s[1]+s[1]:s.substring(2,4),16)/255,a=parseInt(u?s[2]+s[2]:s.substring(4,6),16)/255,(s.length===4||s.length===8)&&(n=parseInt(u?s[3]+s[3]:s.substring(6,8),16)/255)}const g=.2126*e(l)+.7152*e(c)+.0722*e(a);return{dark:n*g+(1-n)*1<=.45,alpha:n}},M=()=>{let t="";const e=[];for(const l in f[p.language]){const c=z[p.language][l]||1;for(let a=0;a<c;a++)e.push(l);t+=(t?"|":"")+f[p.language][l].source}return[t,e]},$=t=>{const e=(l,c,a,n,i)=>`${c}<span class="attribute">${a}</span>`+(n||i?'<span class="punctuation">=</span>':"")+(n||i?`<span class="quote">${n||""}${i||""}${n||""}</span>`:"");if(p.language==="pug"){let[l,c="",a="",n="",i="",r=""]=t;return c=c.replace(/#[\w-]+/g,g=>`<span class="id">${g}</span>`).replace(/\.[\w-]+/g,g=>`<span class="class">${g}</span>`),a&&(a=a.replace(x.pug,e),a='<span class="punctuation">(</span>'+a+'<span class="punctuation">)</span>'),r&&(r=I(r)),`<span class="tag-name">${l}</span>${c}${a}`+(n?'<span class="punctuation">.</span>':"")+(i||"")+(r?`<span class="text">${r}</span>`:"")}else{const[l,c="",a="",n="",i]=t,r=c.replace(x[p.language],e);return`<span class="punctuation">&lt;${n}</span><span class="tag-name">${l||i}</span>`+r+`<span class="punctuation">${a}&gt;</span>`}},I=t=>t.replace(new RegExp(f.pug["inline-tag"],"gsi"),(e,l)=>'<span class="inline-tag">#[</span>'+l.replace(new RegExp(f.pug.tag,"si"),(c,...a)=>(a=a.slice(0,a.length-2),$(a)))+'<span class="inline-tag">]</span>'),U=()=>{if(N.value.includes(p.language)){const t=B();d.value.innerHTML=y(d.value.innerText),S(d.value.childNodes,t)}},B=()=>{const t=window.getSelection();t.collapseToEnd();const e=new Range;return e.setStart(d.value,0),e.setEnd(t.extentNode,t.extentOffset),e.toString().length},S=(t,e)=>{var l,c;let a=0;for(const n of t){const i=((l=n.innerText)==null?void 0:l.length)||n.length;if(a+i>=e){n.childNodes.length>1?S(n.childNodes,e-a):document.getSelection().setPosition(((c=n.childNodes)==null?void 0:c[0])||n,e-a);break}a+=i}},F=t=>{switch(t.which){case 9:R(p.tab),t.preventDefault();break;case 13:R(`
`),t.preventDefault();break}},R=t=>{const e=window.getSelection(),l=e.getRangeAt(0),c=document.createTextNode(t);l.insertNode(c),e.collapseToEnd()},y=t=>{if(!N.value.includes(p.language))return t;const[e,l]=M();return b(t.replace(/&/g,"&amp;")).replace(new RegExp(e,"gsi"),(c,...a)=>{a=a.slice(0,a.length-2);let n;const i=p.language==="pug";let r=a.find((s,u)=>s&&(n=l[u])&&s);if(["punctuation","quote","htmlentity"].includes(n))r=b(r);else if(n==="comment")if(i){const[s,u,h]=a.slice(l.indexOf("comment"));r=`${s}${u}${b(h)}`}else r=b(r);else if(n==="text"&&i){let[s,u,h]=a;return h=I(h),`${s}<span class="punctuation">|</span>${u}<span class="text">${h}</span>`}else if(n==="text2"&&i){const[,,,s,u,h]=a,H=y(u);return`${s}${H}<span class="punctuation">.</span>
<span class="text">${h}</span>`}else{if(n==="tag"&&["xml","html","html-vue","pug"].includes(p.language))return $(a.slice(l.indexOf("tag")));if(n==="variable"&&r[0]==="."&&p.language==="js")return`<span class="punctuation">.</span><span class="obj-attr">${r.substr(1)}</span>`}let g="";if(n==="color"&&p.language==="css"){const{dark:s,alpha:u}=L(r);n+=` color--${s?"dark":"light"}${u<.4||r==="transparent"?" color--transparent":""}`,g=` style="background-color: ${r}"`}return n&&`<span class="${n}"${g}>${r}</span>`||""})},A=()=>k.default&&w(k.default())||"",j=t=>{t.target.insertAdjacentHTML("afterend",`<textarea id="clipboard-textarea">${d.value.innerText}</textarea>`);const e=document.getElementById("clipboard-textarea");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),e.remove(),D("copied",d.value.innerText)};return G(()=>{const t=A();d.value.innerText=t,d.value.innerHTML=y(d.value.innerText)}),W(()=>{d.value&&(d.value.innerHTML=y(A()))}),(t,e)=>(v(),q("div",{class:Y(["ssh-pre",{"ssh-pre--dark":m.dark}]),"data-type":m.language,"data-label":m.label||null},[m.copyButton?(v(),q("button",{key:0,class:"ssh-pre__copy",onClick:j},[O(t.$slots,"copy-button",{},()=>[e[1]||(e[1]=E("Copy"))])])):V("",!0),e[2]||(e[2]=E()),_("pre",{ref_key:"codeEl",ref:d,class:"ssh-pre__content",contenteditable:m.editable?"true":"false",onKeydown:e[0]||(e[0]=l=>m.editable&&F(l)),onInput:U},"    ",40,te),e[3]||(e[3]=E()),_("div",ae,[O(t.$slots,"default")])],10,ee))}},oe=X({__name:"CodeSample",props:{code:{}},setup(m){return(T,o)=>(v(),K(Q(ne),{language:"js",dark:!0},{default:J(()=>[E(Z(m.code),1)]),_:1}))}});export{oe as _};
