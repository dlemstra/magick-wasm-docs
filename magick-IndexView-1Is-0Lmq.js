import{d as b,r as y,i as D,O as k,e as F,c as R,w as x,f as L,k as _,l as v,o as V,g as $,a as r,b as u,h as s,j as c,m as C,F as q}from"./assets/index-CoZb0VGs.js";import{_ as E}from"./magick-_plugin-vue_export-helper-DlAUqK2U.js";const M=b({__name:"ImageCanvas",setup(I,{expose:i}){const a=y(),d=()=>{const t=new L;return t.font="Hack",t.backgroundColor=new _("pink"),t.fillColor=new _("black"),t},l=(function(){const t=d();t.fontPointsize=40;const n=D.create();return n.read("label:Drop file here",t),n.extent(400,400,k.Center),n})(),e=async t=>{const n=t.dataTransfer?.files;if(n===null)return;const p=n?.item(0);if(p==null)return;const z=await p.arrayBuffer(),B=new Uint8Array(z);try{v.read(B,f=>{f.resize(new $("1920x1080>")),o(f)})}catch(f){const g=d();g.fontPointsize=20,v.read(`caption:${f}`,g,m=>{m.extent(m.width+50,400,k.Center),o(m)})}},o=t=>{a.value!==void 0&&t.writeToCanvas(a.value)};return i({read:t=>{a.value!==void 0&&v.readFromCanvas(a.value,n=>{t(n)},{willReadFrequently:!0})},write:o}),F(()=>{o(l)}),(t,n)=>(V(),R("canvas",{ref_key:"canvas",ref:a,onDrop:x(e,["prevent"]),onDragover:n[0]||(n[0]=x(()=>{},["prevent"]))},null,544))}}),N={class:"container"},T={class:"buttons"},A=b({__name:"IndexView",setup(I){const i=y(),a=l=>{v.read(l,e=>i.value?.write(e))},d=l=>{i.value?.read(e=>{l(e),i.value?.write(e)})};return(l,e)=>{const o=C("RouterLink"),w=C("RouterView");return V(),R(q,null,[e[9]||(e[9]=r("h1",null,"MagickImage",-1)),r("div",N,[r("div",null,[u(o,{to:"/classes/magick-image/blur"},{default:c(()=>[...e[2]||(e[2]=[s("blur",-1)])]),_:1}),e[6]||(e[6]=s(" | ",-1)),u(o,{to:"/classes/magick-image/charcoal"},{default:c(()=>[...e[3]||(e[3]=[s("charcoal",-1)])]),_:1}),e[7]||(e[7]=s(" | ",-1)),u(o,{to:"/classes/magick-image/liquidRescale"},{default:c(()=>[...e[4]||(e[4]=[s("liquidRescale",-1)])]),_:1}),e[8]||(e[8]=s(" | ",-1)),u(o,{to:"/classes/magick-image/rotate"},{default:c(()=>[...e[5]||(e[5]=[s("rotate",-1)])]),_:1}),u(w,{onShowExample:d})]),r("div",null,[r("div",T,[r("button",{onClick:e[0]||(e[0]=t=>a("logo:"))},"Load logo"),r("button",{onClick:e[1]||(e[1]=t=>a("wizard:"))},"Load wizard")]),u(M,{ref_key:"canvas",ref:i},null,512)])])],64)}}}),j=E(A,[["__scopeId","data-v-02ea1ebd"]]);export{j as default};
